<!DOCTYPE html>
<html lang="ja"
      xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>受講生情報一覧</title>
</head>
<body>
<!--/*　 IntelliJ IDEA [CE] では Thymeleaf がサポートされないので、警告⚠️が出まくるが、間違いがなければ無視でOK　*/-->
<h1>受講生情報一覧</h1>
<a href="/newStudent">[登録]</a>
<table>
  <thead>
  <tr>
    <th>ID</th>
    <th>名前</th>
    <th>ふりがな</th>
    <th>ニックネーム</th>
    <th>メールアドレス</th>
    <th>地域</th>
    <th>年齢</th>
    <th>性別</th>
    <th>備考</th>
    <th>コース</th>
  </tr>
  </thead>
  <tbody>  <!--/* 繰り返し要素を利用してテーブルの行を作成 */-->
  <tr th:each="studentDetail : ${studentList}" th:object="${studentDetail}">

    <!-- 最初の受講コースに対応する行 -->
    <td rowspan="*{studentsCourses.size()}"
        th:text="*{student.studentId}">受講生ID</td>
    <td rowspan="*{studentsCourses.size()}">
      <a href="/studentList" th:href="@{/student/{student_id}(student_id=${studentDetail.student.studentId})}"
         th:text="*{student.fullName}">氏名</a>
    </td>
    <td rowspan="*{studentsCourses.size()}"
        th:text="*{student.namePronunciation}">ふりがな</td>
    <td rowspan="*{studentsCourses.size()}"
        th:text="*{student.nickname}">ふりがな</td>
    <td rowspan="*{studentsCourses.size()}"
        th:text="*{student.email}">メールアドレス</td>
    <td rowspan="*{studentsCourses.size()}"
        th:text="*{student.area}">地域</td>
    <td rowspan="*{studentsCourses.size()}"
        th:text="*{student.age}">年齢</td>
    <td rowspan="*{studentsCourses.size()}"
        th:text="*{student.gender}">性別</td>
    <td rowspan="*{studentsCourses.size()}"
        th:text="*{student.remark}">備考</td>

    <!-- 最初の受講コース
    <td th:text="${studentDetail.studentsCourses[0].course}"></td>
    -->
  <!-- 残りの受講コース
  </tr>
  <tr th:each="course, stat : ${studentDetail.studentsCourses}" th:if="${stat.index > 0}">
    <td th:text="${course.course}"></td>
  </tr>
  -->

    <td>
      <ul>
        <li th:each="course : ${studentDetail.studentsCourses}"
            th:text="${course.course}">
      </ul>
    </td>
  </tr>
  </tbody>
</table>
</body>
</html>